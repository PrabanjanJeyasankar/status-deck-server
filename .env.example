# ===================================================================
# Status Deck Server - Environment Configuration
# ===================================================================
# Copy this file to .env and fill in your actual values
# For local development with Docker Compose
# ===================================================================

# -------------------------------------------------------------------
# Database Configuration (PostgreSQL)
# -------------------------------------------------------------------
POSTGRES_USER=statusdeck
POSTGRES_PASSWORD=your_secure_password_here
POSTGRES_DB=statusdeck

# Full database connection URL (used by Prisma ORM)
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE
DATABASE_URL=postgresql://statusdeck:your_secure_password_here@postgres:5432/statusdeck

# -------------------------------------------------------------------
# Redis Configuration (For WebSocket Real-Time Updates)
# -------------------------------------------------------------------
# Format: redis://HOST:PORT
REDIS_URL=redis://redis:6379

# -------------------------------------------------------------------
# CORS Configuration (Cross-Origin Resource Sharing)
# -------------------------------------------------------------------
# Comma-separated list of allowed frontend URLs
# Add your deployed frontend URL when deploying to production
CORS_ALLOW_ORIGINS=http://localhost:5173,http://localhost:3000

# -------------------------------------------------------------------
# Server Port Configuration
# -------------------------------------------------------------------
PORT=8000

# ===================================================================
# KEEP-ALIVE CONFIGURATION (Cold Start Prevention)
# ===================================================================
# Purpose: Prevents hosting platforms from spinning down your server
#          due to inactivity by pinging it periodically.
#
# When to use:
#   - Deploying to Render.com, Railway.app, or similar platforms
#   - Using free-tier hosting with automatic sleep/wake features
#   - You want to avoid cold starts and maintain fast response times
#
# When NOT to use:
#   - Local development (leave KEEPALIVE_URL empty)
#   - Production servers with guaranteed uptime (no sleep mode)
#   - If your hosting platform charges for uptime/compute hours
# -------------------------------------------------------------------

# KEEPALIVE_URL (Required for keep-alive to work)
# -----------------------------------------------
# The full public URL of your deployed server
# Leave EMPTY for local development
#
# Examples:
#   - Render.com: https://your-app-name.onrender.com/health
#   - Railway.app: https://your-app.up.railway.app/health
#   - Heroku: https://your-app.herokuapp.com/health
#
# Important: Use the /health endpoint (it's lightweight and fast)
KEEPALIVE_URL=

# KEEPALIVE_INTERVAL_SECONDS (Optional)
# --------------------------------------
# Time in seconds between each ping
#
# Default: 600 (10 minutes)
# Recommended Range: 300-600 (5-10 minutes)
#
# Guidelines:
#   - Too frequent (< 300s): Unnecessary and wastes resources
#   - Too infrequent (> 900s): May not prevent sleep effectively
#   - Render free tier spins down after 15 min of inactivity
#   - 600 seconds (10 min) is a safe, balanced default
KEEPALIVE_INTERVAL_SECONDS=600

# KEEPALIVE_TIMEOUT_SECONDS (Optional)
# -------------------------------------
# Maximum time to wait for each ping request to complete
#
# Default: 10 seconds
# Recommended Range: 5-15 seconds
#
# Guidelines:
#   - Should be long enough to handle slow network or cold starts
#   - But short enough to fail fast if server is truly down
#   - 10 seconds is appropriate for most scenarios
KEEPALIVE_TIMEOUT_SECONDS=10

# ===================================================================
# DEPLOYMENT EXAMPLES
# ===================================================================
#
# Example 1: Render.com Free Tier Deployment
# -------------------------------------------
# KEEPALIVE_URL=https://status-deck-api.onrender.com/health
# KEEPALIVE_INTERVAL_SECONDS=300
# KEEPALIVE_TIMEOUT_SECONDS=10
#
# Example 2: Railway.app Deployment
# ----------------------------------
# KEEPALIVE_URL=https://status-deck.up.railway.app/health
# KEEPALIVE_INTERVAL_SECONDS=600
# KEEPALIVE_TIMEOUT_SECONDS=10
#
# Example 3: Local Development (Keep-Alive Disabled)
# ---------------------------------------------------
# KEEPALIVE_URL=
# (The feature will be automatically disabled when URL is empty)
#
# ===================================================================
